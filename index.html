<!-- Pixel Pet 3D -->
<!-- @author: zhengxiaoyao0716 -->
<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8" />
    <meta name="Keywords" content="" />
    <meta name="Description" content="" />
    <link rel="shortcut icon" href="http://os.zheng0716.com/static/image/favicon.ico" />
    <title>Pixel Pet 3D</title>
</head>

<body>
    <div>
        <p>{{ info['name'] }}: {{ info['version'] }}</p>
        <p>Author: {{ info['author'] }}</p>
        <p>Address: {{ info['address'] }}</p>
    </div>
    <div style="background: #03A9F4; width: 100%; margin-top: 150px; color: white; font-size: 120px; text-align: center; font-family: arial,tahoma,'Microsoft Yahei','\5b8b\4f53',sans-serif;">Hello world</div>
    <script type="text/javascript">
        {
            const ws = new WebSocket("ws://localhost:5000/ws");
            // ws.addEventListener("open", (e) => {
            //     console.log(e);
            // });
            ws.addEventListener("message", (e) => (({event, data}) =>{
                ({
                    "init": (data) => {
                        console.log(data);
                    },
                    "text": (data) => {
                        console.log(data);
                    },
                    "action": (data) => {
                        console.log(data);
                    },
                })[event](data)
            })(JSON.parse(e.data)));
            // ws.addEventListener("close", (e) => {
            //     console.log(e);
            // });
            setTimeout(() => ws.send("Hello"), 1000);
        }
    </script>
</body>

</html>